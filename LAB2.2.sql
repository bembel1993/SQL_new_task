----TABLE 1-------
CREATE TABLE HUMAN_RESURCES_DEPARTMEN
(
  IDEMPLOYEE INT NOT NULL,
  NAMEFL VARCHAR(30),
  FAMILYSTATUS VARCHAR(30),
  BIRTHDAY DATE,
  EDUCATION VARCHAR(30),
  LASTPLACEWORK VARCHAR(30),
  EXPERIENCE INT,
  DEPARTMENT VARCHAR(30),
  POSITION VARCHAR(30),
  ADRESS VARCHAR(50),
  NUMBERFAMILY INT,
  NUM_DETAILS_DEPARTMENT INT NOT NULL,
  NUM_DETAILS_EDUCATION INT NOT NULL
);
--------ADD CONSTRAINT/ UNIQUE/ PK/ FK
ALTER TABLE HUMAN_RESURCES_DEPARTMEN--ALTER TABLE - используется для изменения структуры таблицы
  ADD CONSTRAINT HUMAN_RESURCES_DEPARTMEN_PK PRIMARY KEY (IDEMPLOYEE);--добавляет ограничение первичного ключа на номер

ALTER TABLE HUMAN_RESURCES_DEPARTMEN
  ADD CONSTRAINT HUMAN_RESURCES_DEPARTMEN_UK UNIQUE (NAMEFL);--создает ограничение уникального имени
---FOR TABLE 2---
ALTER TABLE HUMAN_RESURCES_DEPARTMEN
  ADD CONSTRAINT HUMAN_RESURCES_DEPARTMEN_DETAILS_FAMALY_FK FOREIGN KEY (NUMBERFAMILY)
  REFERENCES DETAILS_FAMALY (IDFAMALY);--создает внешний ключ для связи двух таблиц
---FOR TABLE 3---
ALTER TABLE HUMAN_RESURCES_DEPARTMEN
  ADD CONSTRAINT HUMAN_RESURCES_DEPARTMEN_DETAILS_DEPARTMENT_FK FOREIGN KEY (NUM_DETAILS_DEPARTMENT)
  REFERENCES DETAILS_DEPARTMENT (NUMBERDEP);
---FOR TABLE 4---
ALTER TABLE HUMAN_RESURCES_DEPARTMEN
	ADD CONSTRAINT HUMAN_RESURCES_DEPARTMEN_DETAILS_EDUCATION_FK FOREIGN KEY (NUM_DETAILS_EDUCATION)
	REFERENCES DETAILS_EDUCATION (IDPLACEEDUCATION);
--------INSERT
INSERT INTO HUMAN_RESURCES_DEPARTMEN VALUES (1,'AXEL RONING', 'MARRIED', '1986-09-11', 'HIGH', 'SAMSUNG', 10, 'ELECTROMAGNETIC', 'INGINEEUR', 'WALL STR.', 701, 01, 10);
INSERT INTO HUMAN_RESURCES_DEPARTMEN VALUES (2,'ROSY COULD', 'DEVORCED', '1986-10-11', 'HIGH', 'SIEMENS', 10, 'ELECTROMAGNETIC', 'INGINEEUR', 'SOUTH STR.', 702, 02, 20);
INSERT INTO HUMAN_RESURCES_DEPARTMEN VALUES (3,'MISHEL D_QUIT', 'MARRIED', '1993-10-09', 'COLL', 'PHILIPS', 5, 'ELECTROSECURITY', 'INGINEEUR', 'WALL STR.', 703, 03, 30);
INSERT INTO HUMAN_RESURCES_DEPARTMEN VALUES (4,'JORGE COLINS', 'UNMARRIED', '1998-09-11', 'HIGH', 'XEROX', 3, 'ELECTROSECURITY', 'INGINEEUR', 'NORD STR.', 704, 04, 40);
INSERT INTO HUMAN_RESURCES_DEPARTMEN VALUES (5,'KATE LAWREE', 'UNMARRIED', '1992-09-11', 'HIGH', 'LEXMARK', 3, 'ELECTROMAGNETIC', 'INGINEEUR', 'WEST STR.', 705, 05, 50);
--------ACTIVITY
SELECT *
FROM HUMAN_RESURCES_DEPARTMEN

-----------------------------------------------------------------------------------
-----TABLE 2-------
CREATE TABLE DETAILS_FAMALY
(
	IDFAMALY INT NOT NULL,
	IDEMPLOYEE INT NOT NULL,
	WIFEMANNAME VARCHAR(30),
	DATEBIRTHSPOUSE DATE,
	KINDQUANTITY INT,
	EDUCATION VARCHAR(30)
);
--------ADD CONSTRAINT
ALTER TABLE DETAILS_FAMALY--ALTER TABLE - используется для изменения структуры таблицы
  ADD CONSTRAINT DETAILS_FAMALY_PK PRIMARY KEY (IDFAMALY);--добавляет ограничение первичного ключа на номер
--------INSERT
INSERT INTO DETAILS_FAMALY VALUES (701, 1, 'JOANA RONING', '1987-09-30', 2, 'PRIMARY SCHOOL');
INSERT INTO DETAILS_FAMALY VALUES (702, 2, NULL, NULL, 1, 'KINDERGARTEN');
INSERT INTO DETAILS_FAMALY VALUES (703, 3, 'ILONA D_QUIT', '1998-12-18', NULL, NULL);
INSERT INTO DETAILS_FAMALY VALUES (704, 4, NULL, NULL, NULL, NULL);
INSERT INTO DETAILS_FAMALY VALUES (705, 5, NULL, NULL, NULL, NULL);
--------ACTIVITY
SELECT *
FROM DETAILS_FAMALY

SELECT 
	H.NAMEFL,
	H.FAMILYSTATUS,
	D.WIFEMANNAME,
	D.DATEBIRTHSPOUSE
FROM HUMAN_RESURCES_DEPARTMEN H left join DETAILS_FAMALY D
ON H.NUMBERFAMILY = D.IDFAMALY
WHERE WIFEMANNAME = 'JOANA RONING'
---------------------------------------------------------------------------------------
------TABLE 3-------
CREATE TABLE DETAILS_DEPARTMENT
(
	NUMBERDEP INT NOT NULL,
	IDDEP INT NOT NULL,
	IDEMPLOYEE INT NOT NULL,
	QUANTITYEMPLOYEE INT NOT NULL,
	EARNINGS INT, --ПРИБЫЛЬ
	LOCATION_PLACE VARCHAR(30)
);
--------INSERT
INSERT INTO DETAILS_DEPARTMENT VALUES (01, 26, 1, 3, 15000, 'CALIFORNIA');
INSERT INTO DETAILS_DEPARTMENT VALUES (02, 26, 2, 3, 3000, 'CALIFORNIA');
INSERT INTO DETAILS_DEPARTMENT VALUES (03, 35, 3, 2, 10000, 'LOS ANGELES');
INSERT INTO DETAILS_DEPARTMENT VALUES (04, 35, 4, 2, 8000, 'LOS ANGELES');
INSERT INTO DETAILS_DEPARTMENT VALUES (05, 26, 5, 3, 15000, 'CALIFORNIA');
--------ADD CONSTRAINT
ALTER TABLE DETAILS_DEPARTMENT
	ADD CONSTRAINT DETAILS_DEPARTMENT_PK PRIMARY KEY (NUMBERDEP);
--------ACTIVITY
SELECT *
FROM DETAILS_DEPARTMENT
--
SELECT 
	H.DEPARTMENT,
	H.NAMEFL,
	H.IDEMPLOYEE,
	D.LOCATION_PLACE,
	D.EARNINGS,
	D.QUANTITYEMPLOYEE,
	D.IDDEP
FROM HUMAN_RESURCES_DEPARTMEN H left join DETAILS_DEPARTMENT D
ON H.NUM_DETAILS_DEPARTMENT = D.NUMBERDEP
WHERE IDDEP = 26
--
SELECT IDDEP, LOCATION_PLACE
FROM DETAILS_DEPARTMENT
WHERE IDDEP = '26'
--
SELECT *
FROM DETAILS_DEPARTMENT
WHERE EARNINGS < 10000
ORDER BY EARNINGS DESC
-----------------------------------------------------------------------
-------TABLE 4----------
CREATE TABLE DETAILS_EDUCATION
(
	IDPLACEEDUCATION INT NOT NULL,
	IDEMPLOYEE INT NOT NULL,
	NAMEUNIVERSITY VARCHAR(50),
	LOCATIONUNIVERSITY VARCHAR(30),
	NUMBERUNIVERSITY INT NOT NULL
);
--------INSERT
INSERT INTO DETAILS_EDUCATION VALUES (10, 1, 'California Institute of Technology', 'Pasadena, California', 101);
INSERT INTO DETAILS_EDUCATION VALUES (20, 2, 'Clarkson University', 'Potsdam, New York', 202);
INSERT INTO DETAILS_EDUCATION VALUES (30, 3, NULL, NULL, 303);
INSERT INTO DETAILS_EDUCATION VALUES (40, 4, 'California State Polytechnic University, Pomona', 'Pomona, California', 404);
INSERT INTO DETAILS_EDUCATION VALUES (50, 5, 'California Polytechnic State University', 'San Luis Obispo, California', 505);
---------ADD CONSTRAINT
ALTER TABLE DETAILS_EDUCATION
	ADD CONSTRAINT DETAILS_EDUCATION_PK PRIMARY KEY (IDPLACEEDUCATION);

ALTER TABLE DETAILS_EDUCATION
	ADD CONSTRAINT DETAILS_EDUCATION_DETAILS_EDUCATION_UNIVERSITY_FK FOREIGN KEY(NUMBERUNIVERSITY)
	REFERENCES DETAILS_EDUCATION_UNIVERSITY (IDUNIVERSITY);
---------ACTIVITY
SELECT *
FROM DETAILS_EDUCATION

SELECT 
	H.NAMEFL,
	H.EDUCATION,
	D.IDPLACEEDUCATION,
	D.NAMEUNIVERSITY,
	D.LOCATIONUNIVERSITY
FROM HUMAN_RESURCES_DEPARTMEN H LEFT JOIN DETAILS_EDUCATION D
ON H.NUM_DETAILS_EDUCATION = D.IDPLACEEDUCATION

------SUB TABLE 1 FOR TABLE 4
-------TABLE 4.1----------
CREATE TABLE DETAILS_EDUCATION_UNIVERSITY
(
	IDUNIVERSITY INT NOT NULL,
	NAMEUNIVERSITY VARCHAR(50),
	STUDENTQUANTITY INT,
	IDEDUCATION INT NOT NULL
);
------INSERT
INSERT INTO DETAILS_EDUCATION_UNIVERSITY VALUES (101, 'California Institute of Technology', 10000, 10);
INSERT INTO DETAILS_EDUCATION_UNIVERSITY VALUES (202, 'Clarkson University', 20000, 20);
INSERT INTO DETAILS_EDUCATION_UNIVERSITY VALUES (303, NULL, NULL, 30);
INSERT INTO DETAILS_EDUCATION_UNIVERSITY VALUES (404, 'California State Polytechnic University', 120000, 40);
INSERT INTO DETAILS_EDUCATION_UNIVERSITY VALUES (505, 'California Polytechnic State University', 11000, 50);
---------ADD CONSTRAINT
ALTER TABLE DETAILS_EDUCATION_UNIVERSITY
	ADD CONSTRAINT DETAILS_EDUCATION_UNIVERSITY_PK PRIMARY KEY (IDUNIVERSITY)
---------ACTIVITY
SELECT *
FROM DETAILS_EDUCATION_UNIVERSITY

SELECT 
	DE.NAMEUNIVERSITY,
	DE.LOCATIONUNIVERSITY,
	DEU.IDUNIVERSITY,
	DEU.STUDENTQUANTITY
FROM DETAILS_EDUCATION DE LEFT JOIN DETAILS_EDUCATION_UNIVERSITY DEU
ON DE.NUMBERUNIVERSITY = DEU.IDUNIVERSITY